/**
 * @jest-environment node
 */
import{onCovid19}from"on-covid-19";import estimator from"../../src/estimator.js";import{getImpactDataStructure,valueOnFields,mockEstimationFor}from"../utils.js";describe("on-covid-19 > Challenge-3",()=>{test("estimate impact on ICU & ventilators, in days",async()=>{const t=await mockEstimationFor("days"),{data:e,estimate:a}=t.data,{periodType:o,timeToElapse:s}=e,i=await onCovid19(e,estimator).estimateImpactAfter(s)[o]();expect(i).toBeTruthy(),expect(i).toMatchObject(getImpactDataStructure());valueOnFields(i,a,["casesForICUByRequestedTime","casesForVentilatorsByRequestedTime"]).forEach(([t,e])=>{expect(t).toBe(e)})}),test("estimate impact on ICU & ventilators, in weeks",async()=>{const t=await mockEstimationFor("weeks"),{data:e,estimate:a}=t.data,{periodType:o,timeToElapse:s}=e,i=await onCovid19(e,estimator).estimateImpactAfter(s)[o]();expect(i).toBeTruthy(),expect(i).toMatchObject(getImpactDataStructure());valueOnFields(i,a,["casesForICUByRequestedTime","casesForVentilatorsByRequestedTime"]).forEach(([t,e])=>{expect(t).toBe(e)})}),test("estimate impact on ICU & ventilators, in months",async()=>{const t=await mockEstimationFor("months"),{data:e,estimate:a}=t.data,{periodType:o,timeToElapse:s}=e,i=await onCovid19(e,estimator).estimateImpactAfter(s)[o]();expect(i).toBeTruthy(),expect(i).toMatchObject(getImpactDataStructure());valueOnFields(i,a,["casesForICUByRequestedTime","casesForVentilatorsByRequestedTime"]).forEach(([t,e])=>{expect(t).toBe(e)})})});
 