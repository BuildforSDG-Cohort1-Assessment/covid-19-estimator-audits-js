/**
 * @jest-environment node
 */
import{onCovid19}from"on-covid-19";import estimator from"../../src/estimator.js";import{getImpactDataStructure,valueOnFields,mockEstimationFor}from"../utils.js";describe("on-covid-19 > Challenge-2",()=>{test("estimate severe cases & impact on hospitals, in days",async()=>{const e=await mockEstimationFor("days"),{data:t,estimate:a}=e.data,{periodType:s,timeToElapse:i}=t,o=await onCovid19(t,estimator).estimateImpactAfter(i)[s]();expect(o).toBeTruthy(),expect(o).toMatchObject(getImpactDataStructure());valueOnFields(o,a,["severeCasesByRequestedTime","hospitalBedsByRequestedTime"]).forEach(([e,t])=>{expect(e).toBe(t)})}),test("estimate severe cases & impact on hospitals, in weeks",async()=>{const e=await mockEstimationFor("weeks"),{data:t,estimate:a}=e.data,{periodType:s,timeToElapse:i}=t,o=await onCovid19(t,estimator).estimateImpactAfter(i)[s]();expect(o).toBeTruthy(),expect(o).toMatchObject(getImpactDataStructure());valueOnFields(o,a,["severeCasesByRequestedTime","hospitalBedsByRequestedTime"]).forEach(([e,t])=>{expect(e).toBe(t)})}),test("estimate severe cases & impact on hospitals, in months",async()=>{const e=await mockEstimationFor("months"),{data:t,estimate:a}=e.data,{periodType:s,timeToElapse:i}=t,o=await onCovid19(t,estimator).estimateImpactAfter(i)[s]();expect(o).toBeTruthy(),expect(o).toMatchObject(getImpactDataStructure());valueOnFields(o,a,["severeCasesByRequestedTime","hospitalBedsByRequestedTime"]).forEach(([e,t])=>{expect(e).toBe(t)})})});
 